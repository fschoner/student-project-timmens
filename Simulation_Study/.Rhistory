tau <- function(x1,x2){
#(1+(1+exp(-100*(x1-1/50)))^(-1))*(1+(1+exp(-100*(x2-1/50)))^(-1))
(1+(1+exp(-20*(x1-1/3)))^(-1))*(1+(1+exp(-20*(x2-1/3)))^(-1))
}
v <- function(x){(1+(1+exp(-20*(x1-1/3)))^(-1))}
?integrate
integrate(v,lower = 0, upper = 1)
v <- function(x){(1+(1+exp(-20*(x-1/3)))^(-1))}
integrate(v,lower = 0, upper = 1)
zw <- integrate(v,lower = 0, upper = 1)$value
end <- zw^2
rm(list=ls())
#this should serve as a first step toward the simulation study.
library(tidyverse)
library(np)
library(dplyr)
library(plyr)
#library(glm)
library(modelr)
library(rpart)
library(FNN)
setwd("C:\\Users\\Flori\\Documents\\Project_Microeconometrics\\student-project-timmens\\Simulation_Study")
source("simAW.R")
tau <- function(x1,x2){
#(1+(1+exp(-20*(x1-1/3)))^(-1))*(1+(1+exp(-20*(x2-1/3)))^(-1))
(1+(1+exp(-20*(x1-1/3)))^(-1))*(1+(1+exp(-20*(x2-1/3)))^(-1))
}
x1 <- seq(-1,1, length= 50)
x2 <- x1
z <- outer(x1, x2, tau)
?outer
z[is.na(z)] <- 1
#outer(c(1,2),c(3,4))
wireframe(z, drape=T, col.regions=rainbow(100),
xlab="x1", ylab="x2", zlab="tau")
library(lattice)
#outer(c(1,2),c(3,4))
wireframe(z, drape=T, col.regions=rainbow(100),
xlab="x1", ylab="x2", zlab="tau")
n <- 2000
d <- 8
k <- 1
kC <- 50
dat <- simAW(n, kC, d, add = FALSE)
n <- 20000
d <- 8
k <- 1
kC <- 50
dat <- simAW(n, kC, d, add = FALSE)
naive <- mean(dat$Y_obs[dat$D==1])-mean(dat$Y_obs[dat$D==0])
n <- 90000
d <- 8
k <- 1
kC <- 50
dat <- simAW(n, kC, d, add = FALSE)
naive <- mean(dat$Y_obs[dat$D==1])-mean(dat$Y_obs[dat$D==0])
rm(list=ls())
#this should serve as a first step toward the simulation study.
library(tidyverse)
library(np)
library(dplyr)
library(plyr)
library(rpart)
library(FNN)
library(lattice)
setwd("C:\\Users\\Flori\\Documents\\Project_Microeconometrics\\student-project-timmens\\Simulation_Study")
source("simAW.R")
#library(glm)
library(modelr)
n <- 90000
d <- 8
k <- 1
kC <- 50
dat <- simAW(n, kC, d, add = FALSE)
